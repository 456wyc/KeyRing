# Key Ring - 账户管理工具

一个安全的跨平台桌面账户管理工具，基于 Electron、React 和 TypeScript 构建。

## ✨ 功能特性

- 🔐 **安全存储**: 使用主密码进行 AES 加密
- 🔑 **主密码保护**: 基于 PBKDF2 的认证机制
- ➕ **自定义字段**: 为每个账户添加任意字段
- 📋 **一键复制**: 一键复制任何字段值到剪贴板
- ✏️ **编辑保护**: 显式编辑模式防止意外修改
- 🎲 **随机密码生成**: 可自定义规则的密码生成器
- 🔄 **确定性密码**: 基于主密码+站点名生成一致的密码
- ⚙️ **自定义规则**: 每个账户可设置独立的密码生成规则
- 🔍 **搜索功能**: 快速查找账户
- 👁️ **密码显示**: 切换密码可见性
- 🖥️ **跨平台**: 支持 Windows、macOS 和 Linux

## 🚀 快速开始

### 方法1: 直接运行 (推荐)

1. **安装依赖**:
   ```bash
   npm install
   ```

2. **运行应用**:
   ```bash
   npm run start
   ```
   
   或直接双击 \`run.bat\` 文件 (Windows)

### 方法2: 开发模式

```bash
npm run dev
```

这将同时启动 Vite 开发服务器和 Electron。

## 📦 打包问题解决方案

如果遇到打包错误（符号链接权限问题），可以使用以下解决方案：

### 临时解决方案
1. 使用 \`npm run start\` 或 \`run.bat\` 直接运行
2. 应用功能完全正常，只是没有安装包

### 打包解决方案
1. **以管理员身份运行命令提示符**
2. **启用开发者模式**：
   - 设置 → 更新和安全 → 开发者选项 → 开发人员模式
3. **或者修改配置**：
   ```bash
   npm install electron-builder@latest
   npm run package:win
   ```

## 🎯 使用指南

### 首次使用
1. 启动应用后会要求创建主密码
2. 设置一个强密码（无法恢复，请牢记）
3. 进入主界面

### 添加账户
1. 点击 "Add Account" 按钮
2. 输入账户名称
3. 添加/修改字段：
   - 预设字段：用户名、密码、邮箱、网址
   - 可以添加任意自定义字段
   - 可以重命名或删除字段

### 密码生成
1. **随机密码**：点击字段旁的设置图标
2. **确定性密码**：使用主密码+站点名生成
3. **自定义规则**：长度、字符类型、排除字符等

### 管理账户
- **查看**：字段默认为只读模式
- **复制**：点击复制图标复制到剪贴板
- **编辑**：点击编辑按钮进入编辑模式
- **删除**：在编辑模式下点击删除按钮
- **搜索**：使用顶部搜索框

### 安全功能
- **锁定**：点击右上角 "Lock" 按钮
- **自动锁定**：关闭应用时自动锁定
- **密码隐藏**：密码字段默认隐藏，点击眼睛图标显示

## 🔒 安全说明

- 所有数据本地存储在 \`~/.keyring\` 目录
- 使用 AES-256 加密
- 主密码通过 PBKDF2 (100,000 次迭代) 进行哈希
- 加密密钥安全派生且不以明文存储
- 无网络依赖，数据不上传云端

## 📁 文件结构

```
key-ring/
├── src/                    # React 前端源码
│   ├── components/         # UI 组件
│   ├── styles/            # 样式文件
│   └── types.ts           # TypeScript 类型定义
├── electron/              # Electron 主进程
│   ├── main.ts           # 主进程入口
│   ├── preload.ts        # 预加载脚本
│   └── storage.ts        # 加密存储
├── dist/                 # 构建输出
└── run.bat              # Windows 启动脚本
```

## ❓ 常见问题

**Q: 忘记主密码怎么办？**
A: 主密码无法恢复，建议定期备份重要账户信息到其他安全位置。

**Q: 数据存储在哪里？**
A: 数据存储在用户主目录的 \`.keyring\` 文件夹中，已加密。

**Q: 为什么打包失败？**
A: Windows 符号链接权限问题，使用 \`npm run start\` 直接运行即可。

**Q: 如何备份数据？**
A: 复制 \`~/.keyring\` 文件夹到安全位置。注意：需要主密码才能解密。

## 📄 许可证

MIT License - 详见 LICENSE 文件